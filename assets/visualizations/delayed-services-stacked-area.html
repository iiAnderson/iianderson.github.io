<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service Delay Distribution Over Time</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }

        @media (prefers-color-scheme: dark) {
            body {
                background-color: #1a1a1a;
                color: #e0e0e0;
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        @media (prefers-color-scheme: dark) {
            .container {
                background: #2d2d2d;
                box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            }
        }

        h1 {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #1a1a1a;
        }

        @media (prefers-color-scheme: dark) {
            h1 {
                color: #e0e0e0;
            }
        }

        .controls {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
        }

        .controls label {
            font-size: 16px;
            font-weight: 500;
        }

        .controls select {
            padding: 8px 35px 8px 12px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 6px;
            background-color: white;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 8px center;
            background-size: 20px;
            min-width: 200px;
        }

        @media (prefers-color-scheme: dark) {
            .controls select {
                background-color: #3d3d3d;
                border-color: #555;
                color: #e0e0e0;
                background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23e0e0e0' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            }
        }

        .controls select:hover {
            border-color: #999;
        }

        .controls select:focus {
            outline: none;
            border-color: #4a90e2;
            box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1);
        }

        .chart-container {
            position: relative;
            height: 500px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 22px;
            }

            .controls {
                flex-direction: column;
                align-items: flex-start;
            }

            .controls select {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Service Delay Distribution Over Time</h1>

        <div class="controls">
            <label for="toc-select">Filter by TOC:</label>
            <select id="toc-select">
                <option value="all">All TOCs</option>
            </select>
        </div>

        <div class="chart-container">
            <canvas id="delayChart"></canvas>
        </div>
    </div>

    <script>
        // TOC code to name mapping
        const tocNames = {
            'AW': 'Transport for Wales Rail',
            'CC': 'c2c',
            'CH': 'Chiltern Railways',
            'CS': 'Caledonian Sleeper',
            'EM': 'East Midlands Railway',
            'ES': 'Eurostar',
            'GC': 'Grand Central',
            'GN': 'Great Northern',
            'GR': 'London North Eastern Railway',
            'GW': 'Great Western Railway',
            'GX': 'Gatwick Express',
            'HT': 'Hull Trains',
            'HX': 'Heathrow Express',
            'IL': 'Island Line',
            'LD': 'Lumo',
            'LE': 'Greater Anglia',
            'LM': 'West Midlands Trains',
            'LO': 'London Overground',
            'LT': 'Transport for London',
            'ME': 'Merseyrail',
            'NT': 'Northern Trains',
            'NY': 'Northern Trains (York)',
            'SE': 'Southeastern',
            'SJ': 'South Western Railway',
            'SN': 'Southern',
            'SR': 'ScotRail',
            'SW': 'South Western Railway',
            'TL': 'Thameslink',
            'TP': 'TransPennine Express',
            'TW': 'Transport for Wales',
            'VT': 'Avanti West Coast',
            'XC': 'CrossCountry',
            'XR': 'Elizabeth line'
        };

        // Embedded dataset
        const rawData = `date,toc,num_services,avg_timing_points_per_service,avg_delay_minutes,stddev_delay,max_max_delay_minutes,num_services_min_delay_under_5,total_delay_minutes,pct_0_5_mins,pct_5_15_mins,pct_15_30_mins,pct_30_plus_mins
2025-09-11,AW,118,21.82,2.45,3.76,28,110,5689,79.66,19.49,0.85,0.0
2025-09-11,CC,12,26.08,2.52,1.37,9,12,772,100.0,0.0,0.0,0.0
2025-09-11,CH,11,9.09,0.31,1.36,7,11,84,100.0,0.0,0.0,0.0
2025-09-11,EM,71,15.21,6.78,5.91,34,59,6900,47.89,42.25,9.86,0.0
2025-09-11,ES,2,2.0,8.0,4.95,15,1,32,50.0,50.0,0.0,0.0
2025-09-11,GC,1,14.0,8.14,,14,1,114,0.0,100.0,0.0,0.0
2025-09-11,GN,48,20.73,3.76,7.14,33,42,2626,77.08,12.5,8.33,2.08
2025-09-11,GR,10,10.7,5.41,8.41,24,8,625,60.0,30.0,10.0,0.0
2025-09-11,GW,214,12.17,0.77,2.99,27,207,3834,92.52,6.54,0.93,0.0
2025-09-11,GX,12,6.5,1.83,2.49,8,11,161,83.33,16.67,0.0,0.0
2025-09-11,HT,2,14.0,6.32,0.35,10,2,177,0.0,100.0,0.0,0.0
2025-09-11,HX,24,4.0,-0.18,0.95,5,24,-17,100.0,0.0,0.0,0.0
2025-09-11,IL,5,6.8,53.05,45.49,106,2,1252,20.0,20.0,0.0,60.0
2025-09-11,LE,205,12.93,1.75,6.85,62,196,4788,90.24,7.8,0.49,1.46
2025-09-11,LM,93,23.54,2.0,4.08,23,88,4844,83.87,12.9,3.23,0.0
2025-09-11,LO,33,30.06,7.93,6.06,33,17,7487,33.33,54.55,12.12,0.0
2025-09-11,ME,75,27.16,-0.52,2.32,13,73,-1212,97.33,2.67,0.0,0.0
2025-09-11,NT,252,18.3,6.35,8.48,46,195,29326,64.68,21.43,10.71,3.17
2025-09-11,SE,359,22.5,9.27,14.02,129,244,70527,53.2,27.02,11.98,7.8
2025-09-11,SN,286,20.6,2.01,5.34,48,268,11695,86.71,10.14,2.45,0.7
2025-09-11,SR,273,21.47,2.04,4.1,34,260,10183,86.81,10.99,2.2,0.0
2025-09-11,SW,320,22.75,1.13,3.41,44,306,7568,91.25,7.5,1.25,0.0
2025-09-11,TL,120,36.81,6.13,7.79,54,90,22963,60.0,27.5,11.67,0.83
2025-09-11,TP,65,11.31,10.16,14.39,62,44,7827,53.85,18.46,18.46,9.23
2025-09-11,TW,11,22.27,1.65,3.2,21,10,419,81.82,18.18,0.0,0.0
2025-09-11,VT,30,11.97,2.87,4.91,27,28,1066,66.67,30.0,3.33,0.0
2025-09-11,XC,42,15.17,20.42,20.29,98,24,11793,26.19,23.81,23.81,26.19
2025-09-11,XR,82,35.24,0.66,1.93,15,80,1637,96.34,3.66,0.0,0.0
2025-09-12,AW,1038,23.67,1.02,2.44,67,1014,27797,93.35,6.17,0.48,0.0
2025-09-12,CC,367,24.03,0.76,1.63,28,367,7310,97.82,1.91,0.27,0.0
2025-09-12,CH,359,14.56,0.12,1.24,20,359,1056,98.61,1.39,0.0,0.0
2025-09-12,CS,10,12.4,2.32,12.21,33,8,521,80.0,0.0,20.0,0.0
2025-09-12,EM,497,16.56,2.85,7.33,117,479,23120,85.11,11.07,2.82,1.01
2025-09-12,ES,55,1.22,6.67,12.77,45,38,568,69.09,14.55,5.45,10.91
2025-09-12,GC,20,13.6,6.49,10.11,44,18,1826,70.0,15.0,5.0,10.0
2025-09-12,GN,262,24.33,6.6,14.61,93,212,38556,71.76,12.21,9.54,6.49
2025-09-12,GR,171,13.38,3.95,6.98,72,162,9606,75.44,17.54,5.85,1.17
2025-09-12,GW,1594,14.4,1.48,4.23,59,1551,51592,90.78,7.47,1.38,0.38
2025-09-12,GX,72,6.81,1.01,1.9,14,71,569,97.22,2.78,0.0,0.0
2025-09-12,HT,14,14.5,7.74,11.22,44,12,1404,71.43,7.14,14.29,7.14
2025-09-12,HX,152,3.93,0.04,1.0,7,151,23,99.34,0.66,0.0,0.0
2025-09-12,IL,43,11.49,-0.35,0.2,1,43,-167,100.0,0.0,0.0,0.0
2025-09-12,LD,10,6.4,4.94,10.23,35,9,308,90.0,0.0,0.0,10.0
2025-09-12,LE,1307,13.77,0.61,2.81,56,1276,11999,94.49,4.82,0.61,0.08
2025-09-12,LM,1158,21.89,1.06,3.11,43,1129,26319,93.61,5.18,1.12,0.09
2025-09-12,LO,1618,29.45,0.79,1.99,25,1589,42329,95.8,4.14,0.06,0.0
2025-09-12,LT,293,11.3,-0.34,10.22,114,287,618,96.93,2.73,0.0,0.34
2025-09-12,ME,621,27.35,-0.63,2.31,62,620,-11171,99.19,0.32,0.48,0.0
2025-09-12,NT,2656,19.9,1.16,3.61,157,2576,66405,93.34,5.53,0.9,0.23
2025-09-12,SE,1716,23.68,2.1,7.69,192,1622,85890,89.92,6.41,2.04,1.63
2025-09-12,SJ,73,3.48,-0.35,1.17,7,73,-96,98.63,1.37,0.0,0.0
2025-09-12,SN,1687,21.54,0.56,2.1,27,1665,25069,95.61,4.15,0.24,0.0
2025-09-12,SR,2225,21.74,0.7,2.28,42,2188,39434,95.87,3.64,0.49,0.0
2025-09-12,SW,1614,24.1,0.86,2.82,79,1585,34901,95.17,4.03,0.68,0.12
2025-09-12,TL,569,42.47,3.1,7.81,92,536,69190,84.53,9.49,4.04,1.93
2025-09-12,TP,340,14.18,2.47,6.02,49,324,14272,84.12,11.18,3.82,0.88
2025-09-12,TW,160,22.79,1.32,3.09,27,155,4842,92.5,6.25,1.25,0.0
2025-09-12,VT,284,12.94,4.37,6.08,48,267,14921,70.07,23.24,5.63,1.06
2025-09-12,XC,268,22.12,3.08,5.96,71,262,22638,82.09,13.06,4.1,0.75
2025-09-12,XR,695,34.56,0.32,1.11,18,694,7773,98.85,1.15,0.0,0.0
2025-09-13,AW,1018,19.71,0.57,2.56,33,999,11800,95.38,4.13,0.49,0.0
2025-09-13,CC,291,27.85,0.08,0.97,10,290,1398,99.31,0.69,0.0,0.0
2025-09-13,CH,225,19.22,0.15,1.61,19,224,809,97.33,2.67,0.0,0.0
2025-09-13,CS,10,12.3,3.08,21.56,230,10,253,90.0,0.0,0.0,10.0
2025-09-13,EM,515,16.36,1.9,3.84,49,497,16517,88.54,9.71,1.75,0.0
2025-09-13,ES,47,1.13,2.32,7.68,37,39,199,82.98,12.77,2.13,2.13
2025-09-13,GC,20,13.6,1.45,2.81,23,20,376,95.0,5.0,0.0,0.0
2025-09-13,GN,311,27.57,0.35,1.34,17,310,2035,98.71,1.29,0.0,0.0
2025-09-13,GR,151,12.52,1.85,4.22,26,150,3554,85.43,13.91,0.66,0.0
2025-09-13,GW,1467,15.01,1.28,3.52,53,1428,44046,91.48,7.16,1.23,0.14
2025-09-13,GX,72,5.94,1.46,2.22,16,71,634,93.06,6.94,0.0,0.0
2025-09-13,HT,12,14.5,1.02,3.38,15,12,170,91.67,8.33,0.0,0.0
2025-09-13,HX,150,4.0,0.29,1.47,13,148,176,98.0,2.0,0.0,0.0
2025-09-13,IL,52,12.38,-0.06,0.64,4,52,-22,100.0,0.0,0.0,0.0
2025-09-13,LD,10,3.0,1.5,3.3,18,10,40,80.0,20.0,0.0,0.0
2025-09-13,LE,1283,12.77,-0.06,1.27,26,1280,934,98.99,0.94,0.08,0.0
2025-09-13,LM,1169,21.46,0.62,2.63,47,1154,16013,96.66,2.74,0.51,0.09
2025-09-13,LO,1426,28.29,0.29,1.12,21,1421,13981,99.3,0.63,0.07,0.0
2025-09-13,LT,345,11.53,0.82,3.89,21,321,2968,90.72,8.7,0.58,0.0
2025-09-13,ME,613,27.2,0.96,3.96,61,585,15254,88.74,9.95,1.31,0.0
2025-09-13,NT,2715,17.86,0.75,2.61,36,2666,44738,95.21,4.01,0.77,0.0
2025-09-13,NY,8,3.75,-7.13,15.0,25,8,-228,87.5,0.0,12.5,0.0
2025-09-13,SE,1276,23.35,1.32,3.0,35,1240,42763,91.69,7.21,1.1,0.0
2025-09-13,SJ,48,3.54,-0.0,1.85,10,48,8,95.83,4.17,0.0,0.0
2025-09-13,SN,1380,21.34,2.05,5.59,75,1292,79080,88.41,7.32,3.7,0.58
2025-09-13,SR,2166,22.25,0.62,2.35,53,2146,29824,96.58,3.05,0.28,0.09
2025-09-13,SW,1527,21.37,1.54,3.7,57,1478,49523,91.75,6.61,1.38,0.26
2025-09-13,TL,507,38.82,1.89,3.59,39,488,40412,88.76,9.66,1.58,0.0
2025-09-13,TP,296,14.75,1.06,4.37,71,293,6729,92.91,6.08,0.68,0.34
2025-09-13,TW,158,22.37,2.39,7.96,95,149,6170,89.24,8.86,1.27,0.63
2025-09-13,VT,266,12.98,2.77,4.55,54,259,10023,82.33,13.91,3.38,0.38
2025-09-13,XC,254,21.04,1.78,4.73,66,248,10537,91.73,6.3,1.57,0.39
2025-09-13,XR,595,35.84,0.07,0.94,14,594,1493,98.99,1.01,0.0,0.0
2025-09-14,AW,673,15.13,1.26,4.65,58,645,14184,90.19,6.69,2.53,0.59
2025-09-14,CC,147,18.5,0.5,2.03,20,144,1576,93.2,6.8,0.0,0.0
2025-09-14,CH,187,18.81,0.21,1.84,23,185,806,96.79,3.21,0.0,0.0
2025-09-14,CS,2,4.5,-3.13,3.01,10,2,-43,100.0,0.0,0.0,0.0
2025-09-14,EM,289,13.64,1.18,3.77,87,281,5637,94.81,4.15,0.69,0.35
2025-09-14,ES,51,1.04,-0.78,4.28,18,48,-21,94.12,5.88,0.0,0.0
2025-09-14,GC,18,12.0,5.59,9.54,43,17,1344,66.67,27.78,0.0,5.56
2025-09-14,GN,225,22.84,0.79,3.06,41,222,3287,94.22,4.89,0.44,0.44
2025-09-14,GR,109,12.8,1.0,3.2,19,107,1491,92.66,6.42,0.92,0.0
2025-09-14,GW,884,12.73,2.46,7.08,136,836,46816,85.86,9.62,2.49,2.04
2025-09-14,GX,72,1.93,-0.09,1.78,6,72,-14,100.0,0.0,0.0,0.0
2025-09-14,HT,12,14.08,2.81,6.7,25,11,422,83.33,8.33,8.33,0.0
2025-09-14,HX,104,3.79,1.2,2.05,15,102,472,93.27,6.73,0.0,0.0
2025-09-14,IL,46,11.61,-0.13,0.59,4,46,-55,100.0,0.0,0.0,0.0
2025-09-14,LD,10,3.3,-0.5,2.51,9,10,-5,90.0,10.0,0.0,0.0
2025-09-14,LE,881,11.99,-0.09,1.54,43,879,-113,99.32,0.57,0.0,0.11
2025-09-14,LM,576,21.21,1.42,4.53,61,554,18686,91.84,6.42,1.22,0.52
2025-09-14,LO,1184,26.24,0.52,1.54,14,1170,23490,97.21,2.79,0.0,0.0
2025-09-14,LT,314,10.21,0.33,3.36,20,304,1377,94.9,4.14,0.96,0.0
2025-09-14,ME,324,26.88,-0.99,3.23,77,323,-9151,98.15,1.23,0.31,0.31
2025-09-14,NT,1154,17.58,1.12,3.54,46,1112,27271,93.24,5.37,1.21,0.17
2025-09-14,NY,4,3.75,-10.88,12.66,0,4,-174,100.0,0.0,0.0,0.0
2025-09-14,SE,992,21.1,1.08,3.65,91,964,20631,93.04,5.75,1.01,0.2
2025-09-14,SJ,47,3.47,-1.03,1.48,4,47,-185,100.0,0.0,0.0,0.0
2025-09-14,SN,972,19.52,0.89,2.32,26,957,19962,94.86,5.04,0.1,0.0
2025-09-14,SR,1082,21.68,0.61,2.76,102,1064,20723,96.3,3.14,0.37,0.18
2025-09-14,SW,1007,19.49,0.82,3.0,47,982,16978,94.64,4.37,0.79,0.2
2025-09-14,TL,445,33.15,1.34,4.64,81,433,18605,93.26,5.17,0.9,0.67
2025-09-14,TP,260,13.33,2.26,5.64,59,249,9629,84.62,10.38,4.62,0.38
2025-09-14,TW,126,21.59,3.09,14.91,149,121,3166,96.03,0.79,0.0,3.17
2025-09-14,VT,208,12.84,3.63,6.61,63,201,11186,77.88,17.79,2.88,1.44
2025-09-14,XC,142,19.36,4.82,7.09,67,135,15816,69.72,21.13,7.75,1.41
2025-09-14,XR,505,27.86,0.29,1.16,22,504,5663,99.01,0.99,0.0,0.0
2025-09-15,AW,1014,21.04,3.12,8.16,122,940,67533,83.63,9.57,4.64,2.17
2025-09-15,CC,362,21.22,1.31,2.49,17,344,10971,90.33,9.67,0.0,0.0
2025-09-15,CH,317,13.28,1.37,5.51,111,307,5509,91.48,5.68,2.21,0.63
2025-09-15,CS,6,16.83,8.4,6.68,26,4,784,33.33,66.67,0.0,0.0
2025-09-15,EM,507,14.54,3.86,7.7,122,468,30427,78.9,15.19,3.94,1.97
2025-09-15,ES,53,1.21,4.95,11.82,55,38,377,69.81,18.87,5.66,5.66
2025-09-15,GC,20,12.25,4.03,5.35,21,18,983,75.0,15.0,10.0,0.0
2025-09-15,GN,389,25.18,2.66,5.94,56,361,22287,85.09,9.77,4.11,1.03
2025-09-15,GR,174,12.04,3.28,6.24,47,168,6867,77.01,17.82,4.02,1.15
2025-09-15,GW,1627,12.28,2.27,6.66,138,1551,66028,86.91,9.04,3.07,0.98
2025-09-15,GX,69,6.39,1.77,3.22,22,67,840,86.96,11.59,1.45,0.0
2025-09-15,HT,14,12.57,2.07,2.27,14,14,357,92.86,7.14,0.0,0.0
2025-09-15,HX,147,3.54,0.37,3.16,34,144,138,95.92,3.4,0.0,0.68
2025-09-15,IL,50,11.38,2.6,7.63,50,46,1379,90.0,2.0,6.0,2.0
2025-09-15,LD,10,5.9,6.05,7.31,30,8,296,40.0,50.0,10.0,0.0
2025-09-15,LE,1252,12.48,0.54,4.18,102,1232,7847,95.69,3.83,0.24,0.24
2025-09-15,LM,1128,20.44,1.54,3.94,70,1091,35619,90.51,7.89,1.24,0.35
2025-09-15,LO,1516,26.95,0.7,1.89,51,1490,30108,96.37,3.36,0.26,0.0
2025-09-15,LT,380,10.57,-0.16,2.63,26,376,-218,97.63,2.37,0.0,0.0
2025-09-15,ME,621,25.09,-0.78,3.57,62,619,-13437,98.07,1.29,0.64,0.0
2025-09-15,NT,2558,17.78,1.83,5.51,127,2433,90933,88.86,8.44,1.99,0.7
2025-09-15,NY,8,3.25,-7.56,9.94,0,8,-240,100.0,0.0,0.0,0.0
2025-09-15,SE,1733,20.77,2.95,7.45,133,1600,113403,83.21,12.41,3.23,1.15
2025-09-15,SJ,66,3.23,-0.49,1.22,6,66,-122,98.48,1.52,0.0,0.0
2025-09-15,SN,1599,19.26,2.08,7.71,121,1521,68284,91.43,3.94,2.31,2.31
2025-09-15,SR,2248,19.87,0.32,1.4,27,2239,16083,98.4,1.56,0.04,0.0
2025-09-15,SW,1507,21.86,2.24,6.01,249,1438,83987,87.92,8.89,2.32,0.86
2025-09-15,TL,546,38.01,2.81,5.85,90,514,62970,81.87,13.0,4.58,0.55
2025-09-15,TP,326,13.49,2.4,6.21,73,315,13475,86.5,9.82,3.07,0.61
2025-09-15,TW,172,20.42,0.9,6.99,91,169,1553,98.26,1.16,0.0,0.58
2025-09-15,VT,303,11.53,7.58,8.78,57,259,25392,54.79,26.73,15.84,2.64
2025-09-15,XC,269,19.48,5.2,9.07,116,249,29026,68.4,24.54,4.46,2.6
2025-09-15,XR,696,31.41,0.29,1.14,14,696,6241,98.42,1.58,0.0,0.0
2025-09-16,AW,993,23.79,1.6,4.95,96,959,37392,90.53,6.95,1.81,0.7
2025-09-16,CC,365,23.91,1.21,2.26,13,347,10891,92.6,7.4,0.0,0.0
2025-09-16,CH,350,15.03,0.19,1.71,28,350,1171,97.71,2.0,0.29,0.0
2025-09-16,CS,10,12.9,4.44,10.0,49,9,904,80.0,0.0,20.0,0.0
2025-09-16,EM,491,16.77,1.39,3.07,35,486,12353,91.85,7.33,0.81,0.0
2025-09-16,ES,52,1.19,4.05,10.05,48,39,381,73.08,15.38,9.62,1.92
2025-09-16,GC,20,13.7,1.64,2.35,13,20,471,90.0,10.0,0.0,0.0
2025-09-16,GN,388,28.38,1.59,4.49,46,368,14052,89.43,8.25,1.8,0.52
2025-09-16,GR,176,13.32,1.42,8.02,124,175,4069,93.18,5.11,1.14,0.57
2025-09-16,GW,1681,13.82,0.93,3.15,91,1651,34366,94.05,4.88,0.83,0.24
2025-09-16,GX,72,6.92,0.84,1.9,20,72,434,91.67,8.33,0.0,0.0
2025-09-16,HT,13,14.92,0.43,0.84,5,13,84,100.0,0.0,0.0,0.0
2025-09-16,HX,148,4.0,0.19,1.35,10,148,112,97.97,2.03,0.0,0.0
2025-09-16,IL,51,12.53,-0.18,0.3,2,51,-101,100.0,0.0,0.0,0.0
2025-09-16,LD,10,7.0,0.3,2.16,27,10,20,100.0,0.0,0.0,0.0
2025-09-16,LE,1286,14.1,0.88,3.61,106,1253,16108,93.7,4.9,1.09,0.31
2025-09-16,LM,1150,22.26,1.04,4.1,76,1128,27746,94.96,3.91,0.7,0.43
2025-09-16,LO,1567,30.18,0.77,2.11,55,1541,40416,96.23,3.25,0.51,0.0
2025-09-16,LT,401,11.84,0.18,1.88,30,397,704,97.51,2.49,0.0,0.0
2025-09-16,ME,620,27.64,-0.42,2.14,57,619,-6667,98.39,1.29,0.32,0.0
2025-09-16,NT,2675,20.11,0.91,2.6,134,2629,56233,95.4,3.89,0.64,0.07
2025-09-16,NY,8,3.75,-11.53,13.66,0,8,-369,100.0,0.0,0.0,0.0
2025-09-16,SE,1774,23.69,1.41,4.58,104,1719,63597,91.94,6.54,1.18,0.34
2025-09-16,SJ,74,3.53,-0.33,1.22,6,74,-88,100.0,0.0,0.0,0.0
2025-09-16,SN,1680,21.63,0.71,3.13,57,1646,32626,95.12,3.69,1.13,0.06
2025-09-16,SR,2249,22.29,0.55,2.6,125,2228,28686,97.07,2.49,0.36,0.09
2025-09-16,SW,1597,24.3,1.62,5.69,182,1557,66260,91.55,6.51,1.44,0.5
2025-09-16,TL,602,43.5,2.96,5.65,95,559,74466,79.9,14.29,5.32,0.5
2025-09-16,TP,335,14.82,0.95,2.83,40,331,7681,93.13,6.27,0.6,0.0
2025-09-16,TW,169,22.85,1.79,7.96,99,153,4695,88.76,10.65,0.0,0.59
2025-09-16,VT,304,12.71,5.36,10.15,89,284,20558,74.34,15.46,6.25,3.95
2025-09-16,XC,268,22.46,1.73,3.25,35,267,12898,91.04,7.09,1.87,0.0
2025-09-16,XR,696,35.15,0.76,1.97,21,690,18917,94.83,5.17,0.0,0.0
2025-09-17,AW,1042,22.83,2.1,6.05,75,985,50951,88.1,8.06,3.07,0.77
2025-09-17,CC,368,23.55,0.45,1.28,14,368,4376,98.1,1.9,0.0,0.0
2025-09-17,CH,342,15.01,0.82,2.57,27,337,4654,94.44,4.97,0.58,0.0
2025-09-17,CS,10,12.3,2.32,8.94,36,10,364,80.0,10.0,10.0,0.0
2025-09-17,EM,501,16.7,1.5,2.76,33,491,13473,92.02,6.99,1.0,0.0
2025-09-17,ES,47,1.26,9.36,19.79,107,33,638,68.09,8.51,14.89,8.51
2025-09-17,GC,20,13.2,1.16,1.76,16,20,296,90.0,10.0,0.0,0.0
2025-09-17,GN,385,27.93,1.69,4.08,45,366,13698,89.35,8.83,1.56,0.26
2025-09-17,GR,178,13.16,1.22,4.29,57,177,3707,91.01,7.87,0.56,0.56
2025-09-17,GW,1686,13.34,1.69,5.25,139,1626,55286,89.5,7.95,1.84,0.71
2025-09-17,GX,68,6.24,5.92,11.08,82,61,2496,72.06,17.65,5.88,4.41
2025-09-17,HT,14,14.57,3.01,5.8,21,13,649,85.71,7.14,7.14,0.0
2025-09-17,HX,150,3.91,0.4,2.06,19,146,234,96.67,3.33,0.0,0.0
2025-09-17,IL,52,12.1,-0.24,0.23,2,52,-149,100.0,0.0,0.0,0.0
2025-09-17,LD,10,7.0,3.62,5.83,25,10,244,60.0,40.0,0.0,0.0
2025-09-17,LE,1257,13.69,1.75,6.55,111,1214,31249,90.14,6.28,1.99,1.59
2025-09-17,LM,1195,21.2,0.93,3.15,60,1177,24598,94.14,5.44,0.25,0.17
2025-09-17,LO,1580,29.59,0.5,1.77,46,1575,28028,97.72,2.09,0.13,0.06
2025-09-17,LT,403,11.67,-0.1,1.36,9,403,-351,100.0,0.0,0.0,0.0
2025-09-17,ME,606,26.3,-0.36,3.38,71,598,-5752,96.86,2.64,0.5,0.0
2025-09-17,NT,2678,19.54,1.39,3.53,62,2593,83852,92.16,6.24,1.49,0.11
2025-09-17,NY,8,3.25,-7.91,11.03,0,8,-229,100.0,0.0,0.0,0.0
2025-09-17,SE,1790,23.35,1.15,3.21,119,1751,51269,93.8,5.53,0.45,0.22
2025-09-17,SJ,74,3.45,-0.12,1.12,6,74,-36,100.0,0.0,0.0,0.0
2025-09-17,SN,1635,20.65,1.64,4.86,124,1558,62275,89.97,7.16,2.45,0.43
2025-09-17,SR,2245,21.5,0.65,2.76,134,2223,41986,96.35,2.81,0.71,0.13
2025-09-17,SW,1597,23.94,0.88,3.45,85,1565,36673,95.55,3.44,0.75,0.25
2025-09-17,TL,615,43.53,2.3,5.2,57,580,57259,87.32,9.11,2.93,0.65
2025-09-17,TP,335,14.4,1.63,3.97,35,328,10967,88.96,9.25,1.79,0.0
2025-09-17,TW,158,22.81,0.54,1.23,13,158,1979,98.1,1.9,0.0,0.0
2025-09-17,VT,298,12.52,5.69,8.19,76,262,19888,67.45,20.47,10.4,1.68
2025-09-17,XC,269,21.57,2.56,6.02,154,261,16135,86.99,9.67,1.86,1.49
2025-09-17,XR,694,33.94,0.95,4.67,249,686,19851,94.96,4.32,0.58,0.14
2025-09-18,AW,1028,21.59,0.85,3.19,44,1001,16596,94.55,4.28,0.97,0.19
2025-09-18,CC,363,22.95,0.46,1.47,16,359,4248,96.97,3.03,0.0,0.0
2025-09-18,CH,342,14.39,0.04,1.22,14,340,532,98.54,1.46,0.0,0.0
2025-09-18,CS,10,13.2,1.32,3.75,20,10,248,90.0,10.0,0.0,0.0
2025-09-18,EM,499,15.93,2.12,4.37,67,485,16536,87.37,11.02,1.4,0.2
2025-09-18,ES,51,1.16,3.81,10.5,68,43,447,80.39,7.84,7.84,3.92
2025-09-18,GC,20,13.1,9.08,17.09,92,18,2244,55.0,30.0,10.0,5.0
2025-09-18,GN,385,27.5,1.46,4.83,49,367,11674,92.21,4.94,2.08,0.78
2025-09-18,GR,176,13.03,1.47,4.12,36,173,4026,90.91,6.82,2.27,0.0
2025-09-18,GW,1628,13.08,3.16,8.03,92,1497,87889,82.86,10.63,4.61,1.9
2025-09-18,GX,55,7.11,3.48,4.43,29,51,1378,74.55,21.82,3.64,0.0
2025-09-18,HT,14,15.0,0.53,1.17,12,14,116,100.0,0.0,0.0,0.0
2025-09-18,HX,112,3.82,1.68,4.82,29,102,702,87.5,8.93,3.57,0.0
2025-09-18,IL,50,11.74,0.0,1.18,8,49,39,98.0,2.0,0.0,0.0
2025-09-18,LD,10,6.7,3.17,3.81,18,10,216,60.0,40.0,0.0,0.0
2025-09-18,LE,1283,13.5,0.5,2.33,34,1270,11078,96.02,3.66,0.31,0.0
2025-09-18,LM,1163,21.59,0.77,2.76,41,1142,20921,95.18,4.3,0.34,0.17
2025-09-18,LO,1567,28.92,0.58,1.74,33,1555,28328,97.83,1.91,0.26,0.0
2025-09-18,LT,392,11.46,0.43,3.01,24,381,2910,93.62,6.38,0.0,0.0
2025-09-18,ME,618,26.48,-0.76,2.67,47,618,-12475,98.54,1.46,0.0,0.0
2025-09-18,NT,2638,18.89,1.39,4.07,132,2551,75405,92.0,6.56,1.1,0.34
2025-09-18,SE,1742,22.58,2.48,6.89,89,1603,93378,86.51,9.01,2.87,1.61
2025-09-18,SJ,74,3.45,-0.22,0.87,4,74,-64,100.0,0.0,0.0,0.0
2025-09-18,SN,1644,20.42,1.9,5.81,146,1566,65823,88.63,8.27,2.55,0.55
2025-09-18,SR,2244,21.29,0.7,2.47,51,2208,34876,95.68,3.92,0.36,0.04
2025-09-18,SW,1606,23.45,0.31,1.6,64,1600,12968,98.26,1.62,0.12,0.0
2025-09-18,TL,596,42.29,4.55,6.95,62,549,114941,71.81,18.79,8.05,1.34
2025-09-18,TP,332,14.18,2.19,5.16,57,326,14535,85.24,11.75,2.41,0.6
2025-09-18,TW,188,22.6,2.89,13.58,145,184,8696,92.55,4.79,0.0,2.66
2025-09-18,VT,307,12.51,3.07,6.03,63,295,13486,84.69,11.73,2.28,1.3
2025-09-18,XC,268,21.16,3.17,5.5,66,255,22604,82.46,11.57,5.6,0.37
2025-09-18,XR,567,31.66,4.31,10.81,106,517,62830,80.25,11.46,4.23,4.06
2025-09-19,AW,1072,19.33,1.59,4.4,74,1014,31646,89.18,8.68,1.87,0.28
2025-09-19,CC,365,23.42,0.53,1.33,11,362,4868,98.63,1.37,0.0,0.0
2025-09-19,CH,338,14.04,0.44,1.72,14,336,2278,96.15,3.85,0.0,0.0
2025-09-19,CS,10,12.9,1.31,4.52,28,10,282,80.0,20.0,0.0,0.0
2025-09-19,EM,497,15.99,1.32,2.57,50,490,11191,91.75,7.85,0.4,0.0
2025-09-19,ES,51,1.06,3.49,11.37,56,43,260,84.31,3.92,7.84,3.92
2025-09-19,GC,20,12.8,7.67,10.39,82,19,1901,50.0,35.0,10.0,5.0
2025-09-19,GN,367,25.91,4.12,8.7,76,327,33790,78.2,12.81,7.08,1.91
2025-09-19,GR,174,12.79,3.73,7.74,77,171,9352,77.59,13.79,7.47,1.15
2025-09-19,GW,1633,12.95,2.86,8.36,170,1523,81932,84.45,10.41,3.0,2.14
2025-09-19,GX,71,6.52,1.38,2.12,13,71,670,91.55,8.45,0.0,0.0
2025-09-19,HT,14,14.14,3.73,7.16,28,14,852,85.71,0.0,14.29,0.0
2025-09-19,HX,128,3.86,2.48,8.87,74,118,783,88.28,4.69,3.91,3.13
2025-09-19,IL,51,10.96,-0.1,0.49,4,51,-46,100.0,0.0,0.0,0.0
2025-09-19,LD,10,6.1,2.34,3.88,26,10,142,70.0,30.0,0.0,0.0
2025-09-19,LE,1288,13.5,0.14,2.16,55,1280,4531,97.98,1.71,0.23,0.08
2025-09-19,LM,1157,20.9,0.95,3.23,44,1122,21078,94.47,4.24,1.04,0.26
2025-09-19,LO,1601,28.08,0.82,2.45,41,1572,43729,95.88,3.5,0.56,0.06
2025-09-19,LT,340,10.89,2.11,9.09,127,305,6802,82.06,16.18,1.18,0.59
2025-09-19,ME,618,26.16,-0.92,2.88,71,618,-15729,99.35,0.49,0.16,0.0
2025-09-19,NT,2658,18.57,1.55,4.46,156,2549,84729,90.71,7.9,1.13,0.26
2025-09-19,SE,1781,22.78,0.88,2.45,30,1739,38786,94.22,5.45,0.34,0.0
2025-09-19,SJ,70,3.44,0.14,1.68,9,69,54,98.57,1.43,0.0,0.0
2025-09-19,SN,1656,20.71,1.16,4.24,93,1607,44278,91.79,7.07,0.79,0.36
2025-09-19,SR,2246,21.06,0.54,2.61,157,2225,29484,96.66,3.12,0.09,0.13
2025-09-19,SW,1588,23.33,0.97,3.08,72,1557,35726,93.83,4.85,1.26,0.06
2025-09-19,TL,634,42.77,1.06,2.69,41,624,27775,93.69,5.36,0.95,0.0
2025-09-19,TP,335,13.81,2.5,5.33,57,319,16265,81.79,15.22,2.69,0.3
2025-09-19,TW,172,21.49,1.6,7.17,90,166,4328,94.19,4.65,0.58,0.58
2025-09-19,VT,310,11.87,6.18,10.94,120,279,22908,65.16,24.52,6.77,3.55
2025-09-19,XC,255,20.61,3.51,5.95,58,239,20919,78.82,14.9,5.49,0.78
2025-09-19,XR,689,32.19,1.82,3.87,43,662,37003,88.97,9.29,1.45,0.29
2025-09-20,AW,1037,17.68,2.5,7.69,125,959,43510,84.86,9.64,3.86,1.64
2025-09-20,CC,290,23.2,1.08,3.29,26,280,5128,93.1,5.52,1.38,0.0
2025-09-20,CH,171,15.8,0.11,1.54,17,171,545,97.66,2.34,0.0,0.0
2025-09-20,CS,10,12.6,1.96,11.86,31,9,514,80.0,0.0,20.0,0.0
2025-09-20,EM,511,13.26,3.19,7.05,68,474,21541,82.0,13.5,2.74,1.76
2025-09-20,ES,37,1.16,8.41,18.56,83,27,450,72.97,10.81,5.41,10.81
2025-09-20,GC,20,11.35,3.82,7.62,38,18,1015,80.0,10.0,10.0,0.0
2025-09-20,GN,326,20.13,0.38,2.12,28,322,1476,96.01,3.68,0.31,0.0
2025-09-20,GR,148,10.68,1.93,5.49,58,144,2919,86.49,10.14,2.7,0.68
2025-09-20,GW,1481,11.94,1.24,3.6,55,1418,29777,91.63,6.82,1.35,0.2
2025-09-20,HT,12,12.42,2.4,6.42,28,11,313,83.33,8.33,8.33,0.0
2025-09-20,HX,140,3.62,1.31,3.7,24,128,491,91.43,7.14,1.43,0.0
2025-09-20,IL,50,10.74,-0.2,0.4,2,50,-72,100.0,0.0,0.0,0.0
2025-09-20,LD,10,2.8,-0.8,3.27,9,10,-11,90.0,10.0,0.0,0.0
2025-09-20,LE,1261,10.38,-0.06,1.39,19,1252,-230,98.49,1.43,0.08,0.0
2025-09-20,LM,1064,19.23,1.19,4.36,75,1035,22146,93.23,5.36,0.85,0.56
2025-09-20,LO,1552,25.03,0.28,1.08,17,1548,10423,99.16,0.77,0.06,0.0
2025-09-20,LT,314,10.54,0.72,9.54,190,301,2949,92.99,6.37,0.32,0.32
2025-09-20,ME,613,23.52,-0.71,5.17,95,602,-7171,95.11,4.08,0.65,0.16
2025-09-20,NT,2519,16.78,2.14,5.46,63,2368,94797,87.81,8.89,2.3,0.99
2025-09-20,NY,8,3.38,-8.78,13.32,0,8,-281,100.0,0.0,0.0,0.0
2025-09-20,SE,1399,20.42,1.38,6.56,156,1360,39569,92.92,4.65,1.36,1.07
2025-09-20,SJ,47,3.4,-0.44,1.09,4,47,-71,100.0,0.0,0.0,0.0
2025-09-20,SN,1270,17.22,1.3,3.84,58,1204,29672,89.76,8.66,1.5,0.08
2025-09-20,SR,2167,17.88,0.71,2.97,84,2127,35301,96.17,3.18,0.46,0.18
2025-09-20,SW,1588,19.5,0.94,3.28,60,1547,32590,94.21,4.66,1.01,0.13
2025-09-20,TL,578,37.1,0.87,4.21,90,569,17090,95.67,3.63,0.52,0.17
2025-09-20,TP,297,12.65,3.5,8.4,85,274,15102,80.13,12.79,5.39,1.68
2025-09-20,TW,157,19.05,2.9,11.12,100,142,4666,87.26,10.83,0.64,1.27
2025-09-20,VT,277,10.86,3.39,7.83,171,266,10138,83.39,14.08,1.08,1.44
2025-09-20,XC,240,17.58,1.94,3.24,63,231,9279,91.25,7.92,0.83,0.0
2025-09-20,XR,592,29.71,0.46,1.83,20,583,5773,95.95,4.05,0.0,0.0
2025-09-21,AW,630,15.82,2.03,5.56,59,582,23420,86.35,10.16,2.54,0.95
2025-09-21,CC,272,11.65,0.25,0.9,8,272,758,99.63,0.37,0.0,0.0
2025-09-21,CH,147,19.76,0.71,3.53,31,142,1990,93.88,4.08,2.04,0.0
2025-09-21,CS,2,5.5,-1.55,5.02,4,2,-49,100.0,0.0,0.0,0.0
2025-09-21,EM,284,13.58,2.21,4.02,37,271,9798,88.03,10.21,1.76,0.0
2025-09-21,ES,31,1.13,2.9,6.86,27,27,132,87.1,9.68,3.23,0.0
2025-09-21,GC,9,12.11,7.86,11.87,41,8,827,55.56,22.22,22.22,0.0
2025-09-21,GN,289,18.09,0.8,2.36,18,280,4025,93.77,6.23,0.0,0.0
2025-09-21,GR,115,9.88,1.61,3.5,25,112,2062,88.7,10.43,0.87,0.0
2025-09-21,GW,965,9.68,1.62,4.79,65,918,22419,89.12,8.29,2.28,0.31
2025-09-21,HT,10,11.5,3.91,5.37,22,9,421,80.0,20.0,0.0,0.0
2025-09-21,HX,72,3.5,0.9,2.16,14,69,204,95.83,4.17,0.0,0.0
2025-09-21,IL,42,10.62,0.0,0.21,2,42,5,100.0,0.0,0.0,0.0
2025-09-21,LD,10,1.6,-0.7,1.77,7,10,-7,90.0,10.0,0.0,0.0
2025-09-21,LE,835,9.19,-0.14,1.36,18,830,-237,98.92,0.96,0.12,0.0
2025-09-21,LM,565,17.56,1.52,5.64,84,546,13025,92.04,6.19,1.06,0.71
2025-09-21,LO,1063,24.41,0.6,1.69,19,1046,16398,96.24,3.48,0.28,0.0
2025-09-21,LT,303,9.45,0.23,2.77,32,297,735,97.03,2.64,0.33,0.0
2025-09-21,ME,309,23.27,-0.63,3.57,87,308,-5113,99.35,0.65,0.0,0.0
2025-09-21,NT,1245,15.51,1.7,4.9,75,1182,36055,89.4,8.51,1.69,0.4
2025-09-21,SE,1067,18.22,1.85,6.94,107,1018,27835,91.47,6.09,1.5,0.94
2025-09-21,SJ,40,3.35,0.0,1.22,7,40,8,100.0,0.0,0.0,0.0
2025-09-21,SN,892,17.29,1.87,5.55,85,828,26927,87.89,9.98,1.57,0.56
2025-09-21,SR,1230,18.7,0.88,3.42,67,1190,19766,94.23,4.96,0.65,0.16
2025-09-21,SW,958,18.92,1.33,4.0,81,918,21943,91.86,6.68,1.25,0.21
2025-09-21,TL,415,34.67,1.4,4.84,71,400,19869,92.05,6.75,0.96,0.24
2025-09-21,TP,187,11.54,3.15,7.71,77,174,9936,83.96,11.23,3.21,1.6
2025-09-21,TW,90,18.82,2.79,15.92,162,87,1838,96.67,0.0,1.11,2.22
2025-09-21,VT,195,10.59,2.94,6.17,65,184,7303,82.05,14.87,2.05,1.03
2025-09-21,XC,161,17.28,3.06,5.74,59,151,8915,85.71,10.56,3.11,0.62
2025-09-21,XR,370,27.1,1.29,4.04,49,355,8970,91.35,7.84,0.81,0.0
2025-09-22,AW,1010,17.84,1.36,4.06,52,956,26206,88.81,8.51,2.08,0.59
2025-09-22,CC,359,19.91,0.13,0.96,10,359,988,99.16,0.84,0.0,0.0
2025-09-22,CH,247,16.66,0.36,1.83,19,245,2143,96.76,2.83,0.4,0.0
2025-09-22,CS,6,15.33,6.48,7.59,30,5,725,50.0,50.0,0.0,0.0
2025-09-22,EM,507,13.19,1.35,3.04,39,494,9448,90.14,8.88,0.99,0.0
2025-09-22,ES,51,1.16,3.81,7.83,35,43,321,82.35,13.73,0.0,3.92
2025-09-22,GC,20,11.7,6.6,9.85,45,19,1579,60.0,25.0,10.0,5.0
2025-09-22,GN,320,20.86,1.34,3.76,60,308,5673,92.19,5.94,1.25,0.62
2025-09-22,GR,146,10.58,1.7,4.07,28,141,2752,89.73,8.9,1.37,0.0
2025-09-22,GW,1476,10.46,1.34,3.69,58,1416,28486,91.26,7.32,1.22,0.2
2025-09-22,HT,12,11.42,1.18,3.61,17,12,170,91.67,8.33,0.0,0.0
2025-09-22,HX,131,3.47,0.57,2.48,22,126,236,96.18,3.82,0.0,0.0
2025-09-22,IL,50,10.02,0.16,0.5,4,49,73,98.0,2.0,0.0,0.0
2025-09-22,LD,9,2.11,0.56,1.52,11,9,13,100.0,0.0,0.0,0.0
2025-09-22,LE,1258,9.79,-0.06,1.39,18,1250,-134,98.65,1.19,0.16,0.0
2025-09-22,LM,1111,18.27,0.92,3.03,37,1085,22260,93.88,5.31,0.63,0.18
2025-09-22,LO,1491,24.25,0.44,1.46,29,1475,17913,97.32,2.55,0.13,0.0
2025-09-22,LT,376,9.96,0.7,3.7,24,358,3231,92.29,7.18,0.53,0.0
2025-09-22,ME,611,23.67,-0.29,3.25,81,609,-4752,98.2,1.8,0.0,0.0
2025-09-22,NT,2540,15.43,1.36,3.77,56,2446,61732,91.57,6.54,1.65,0.24
2025-09-22,NY,8,3.13,0.0,0.0,0,8,0,100.0,0.0,0.0,0.0
2025-09-22,SE,1655,18.45,1.33,4.73,129,1596,46244,92.99,5.56,0.97,0.48
2025-09-22,SJ,67,3.19,0.0,1.14,6,67,0,100.0,0.0,0.0,0.0
2025-09-22,SN,1566,17.55,0.98,3.38,84,1497,32935,92.72,6.13,1.02,0.13
2025-09-22,SR,2171,18.34,0.49,2.66,116,2148,23981,96.5,3.18,0.23,0.09
2025-09-22,SW,1544,19.35,1.01,3.67,94,1502,33447,93.39,5.37,1.1,0.13
2025-09-22,TL,551,34.81,1.17,4.41,89,536,20758,94.74,4.54,0.54,0.18
2025-09-22,TP,303,11.99,2.47,6.58,101,290,13070,87.79,8.25,2.97,0.99
2025-09-22,TW,165,19.15,1.7,9.65,117,157,3296,91.52,7.27,0.0,1.21
2025-09-22,VT,264,10.26,3.57,7.0,80,246,12069,81.82,14.77,2.65,0.76
2025-09-22,XC,222,16.97,3.02,5.35,55,208,14131,87.84,8.56,3.15,0.45
2025-09-22,XR,623,26.49,0.53,1.82,26,616,10004,96.95,2.89,0.16,0.0
2025-09-23,AW,981,18.32,1.99,6.12,94,913,36034,85.83,10.09,3.26,0.82
2025-09-23,CC,345,20.92,0.59,1.68,18,336,4610,94.78,5.22,0.0,0.0
2025-09-23,CH,214,17.13,0.47,2.36,24,208,2236,94.86,4.21,0.93,0.0
2025-09-23,CS,9,15.11,8.05,14.41,55,7,1022,44.44,33.33,22.22,0.0
2025-09-23,EM,501,13.81,2.75,6.16,82,474,20190,84.23,11.58,2.99,1.2
2025-09-23,ES,43,1.09,9.07,18.3,75,31,527,70.0,13.33,6.67,10.0
2025-09-23,GC,20,11.85,8.71,13.32,67,18,2093,50.0,25.0,20.0,5.0
2025-09-23,GN,275,20.93,2.89,7.93,93,243,12979,80.73,13.45,3.64,2.18
2025-09-23,GR,140,10.69,2.2,5.37,48,133,3549,85.0,11.43,2.86,0.71
2025-09-23,GW,1352,10.5,2.36,6.09,84,1267,58025,86.98,9.02,3.18,0.81
2025-09-23,HT,10,11.6,0.14,1.21,12,10,17,100.0,0.0,0.0,0.0
2025-09-23,HX,128,3.45,0.86,2.15,13,121,353,94.53,5.47,0.0,0.0
2025-09-23,IL,49,9.9,0.47,1.67,12,48,221,97.96,2.04,0.0,0.0
2025-09-23,LD,10,1.6,0.0,0.0,0,10,0,100.0,0.0,0.0,0.0
2025-09-23,LE,1208,10.06,0.4,2.55,62,1183,5499,95.86,3.64,0.5,0.0
2025-09-23,LM,1082,18.47,1.46,4.3,70,1041,32092,92.79,5.73,1.11,0.37
2025-09-23,LO,1451,24.07,0.61,1.94,25,1421,25088,95.38,4.14,0.48,0.0
2025-09-23,LT,356,10.0,0.58,3.12,30,337,2587,92.7,6.74,0.56,0.0
2025-09-23,ME,611,23.49,-0.44,3.43,93,607,-7219,97.87,1.8,0.33,0.0
2025-09-23,NT,2386,15.8,2.3,6.14,103,2218,106378,86.46,9.76,2.94,0.84
2025-09-23,SE,1503,18.91,2.11,7.14,124,1398,68032,87.76,9.12,2.13,0.99
2025-09-23,SJ,63,3.14,0.19,1.11,6,62,38,98.41,1.59,0.0,0.0
2025-09-23,SN,1449,17.84,1.83,5.34,100,1361,60683,89.23,8.21,2.14,0.41
2025-09-23,SR,2033,18.74,0.94,3.84,109,1961,43051,93.26,5.51,0.98,0.25
2025-09-23,SW,1490,19.42,1.38,4.86,120,1437,52151,91.34,6.51,1.81,0.34
2025-09-23,TL,508,35.25,2.13,5.44,93,481,35888,87.6,9.65,2.36,0.39
2025-09-23,TP,287,12.22,3.32,7.94,86,269,16833,82.23,12.2,4.18,1.39
2025-09-23,TW,151,19.21,2.97,17.63,190,146,3305,96.69,1.32,0.0,1.99
2025-09-23,VT,268,10.53,5.34,9.28,99,240,20301,72.76,17.54,7.09,2.61
2025-09-23,XC,221,17.2,4.52,7.47,85,201,18846,77.38,14.93,6.33,1.36
2025-09-23,XR,615,27.27,1.46,3.7,41,590,23698,90.08,8.62,1.3,0.0
2025-09-24,AW,982,18.93,1.85,5.61,87,920,32795,87.37,9.16,2.65,0.82
2025-09-24,CC,336,21.43,0.33,1.08,12,333,2634,98.81,1.19,0.0,0.0
2025-09-24,CH,213,17.79,0.24,1.66,22,212,1051,98.12,1.88,0.0,0.0
2025-09-24,CS,10,16.9,7.34,7.84,35,7,1227,40.0,60.0,0.0,0.0
2025-09-24,EM,489,14.01,1.72,3.84,43,479,13341,90.18,8.59,1.23,0.0
2025-09-24,ES,43,1.19,7.19,13.64,59,34,562,79.07,9.3,9.3,2.33
2025-09-24,GC,20,12.4,2.98,3.73,24,20,724,85.0,10.0,5.0,0.0
2025-09-24,GN,275,21.94,3.09,10.29,112,238,14333,78.55,13.82,5.09,2.55
2025-09-24,GR,142,11.0,1.54,3.21,24,140,2620,92.25,6.34,1.41,0.0
2025-09-24,GW,1387,10.91,2.62,7.86,117,1294,63683,85.11,9.66,3.75,1.48
2025-09-24,HT,11,12.09,0.0,0.0,0,11,0,100.0,0.0,0.0,0.0
2025-09-24,HX,130,3.45,0.54,2.64,23,125,226,96.15,3.85,0.0,0.0
2025-09-24,IL,49,10.61,0.02,0.23,3,49,11,100.0,0.0,0.0,0.0
2025-09-24,LD,10,2.3,1.3,3.05,21,10,30,90.0,10.0,0.0,0.0
2025-09-24,LE,1209,10.24,0.17,1.79,27,1202,2399,98.43,1.49,0.08,0.0
2025-09-24,LM,1071,18.97,1.38,5.14,126,1041,29095,93.93,4.3,1.12,0.65
2025-09-24,LO,1464,24.88,0.43,1.55,28,1443,17616,96.99,2.87,0.14,0.0
2025-09-24,LT,356,10.27,1.13,6.74,86,338,5212,90.45,8.71,0.28,0.56
2025-09-24,ME,611,24.07,-0.19,3.06,69,606,-3098,98.36,1.31,0.33,0.0
2025-09-24,NT,2369,16.14,2.23,5.58,81,2210,98948,86.45,10.13,2.62,0.8
2025-09-24,SE,1533,19.38,2.07,6.7,140,1418,71182,88.13,8.74,2.22,0.91
2025-09-24,SJ,62,3.16,0.0,1.12,6,62,0,100.0,0.0,0.0,0.0
2025-09-24,SN,1461,18.16,1.69,5.73,112,1368,58329,89.11,8.56,1.78,0.55
2025-09-24,SR,2053,19.03,0.82,3.45,116,1986,40162,94.59,4.38,0.83,0.19
2025-09-24,SW,1486,19.76,1.37,4.88,120,1425,53151,91.25,6.46,1.82,0.47
2025-09-24,TL,513,35.86,2.22,5.52,92,483,39101,86.55,10.33,2.73,0.39
2025-09-24,TP,282,12.34,3.09,7.53,91,261,15970,82.98,11.7,3.9,1.42
2025-09-24,TW,152,19.54,2.51,14.93,167,147,3242,96.71,1.32,0.0,1.97
2025-09-24,VT,265,10.77,5.06,8.97,101,236,18833,74.72,16.23,6.79,2.26
2025-09-24,XC,220,17.49,4.46,8.11,100,197,18445,78.64,13.18,6.82,1.36
2025-09-24,XR,615,27.71,1.56,4.1,54,589,24825,88.78,9.27,1.63,0.33
2025-09-25,AW,980,19.44,1.89,5.71,84,918,34013,87.55,9.18,2.55,0.71
2025-09-25,CC,337,21.98,0.51,1.46,13,332,4116,97.03,2.97,0.0,0.0
2025-09-25,CH,215,17.93,0.27,1.83,24,213,1268,97.67,2.33,0.0,0.0
2025-09-25,CS,10,17.5,7.37,8.39,40,7,1271,40.0,60.0,0.0,0.0
2025-09-25,EM,489,14.33,1.86,4.12,52,477,13836,90.18,8.18,1.64,0.0
2025-09-25,ES,43,1.19,6.93,13.26,58,34,537,79.07,9.3,9.3,2.33
2025-09-25,GC,20,12.8,3.02,3.82,24,20,772,85.0,10.0,5.0,0.0
2025-09-25,GN,275,22.33,3.15,10.49,114,238,14572,78.55,13.82,5.09,2.55
2025-09-25,GR,142,11.21,1.57,3.27,25,140,2672,92.25,6.34,1.41,0.0
2025-09-25,GW,1387,11.08,2.66,7.99,119,1294,64794,85.11,9.66,3.75,1.48
2025-09-25,HT,11,12.27,0.0,0.0,0,11,0,100.0,0.0,0.0,0.0
2025-09-25,HX,130,3.51,0.55,2.69,23,125,230,96.15,3.85,0.0,0.0
2025-09-25,IL,49,10.78,0.02,0.23,3,49,11,100.0,0.0,0.0,0.0
2025-09-25,LD,10,2.4,1.4,3.27,23,10,35,90.0,10.0,0.0,0.0
2025-09-25,LE,1209,10.39,0.17,1.82,27,1202,2439,98.43,1.49,0.08,0.0
2025-09-25,LM,1071,19.27,1.4,5.23,128,1041,29574,93.93,4.3,1.12,0.65
2025-09-25,LO,1464,25.27,0.44,1.58,29,1443,17900,96.99,2.87,0.14,0.0
2025-09-25,LT,356,10.43,1.15,6.85,87,338,5298,90.45,8.71,0.28,0.56
2025-09-25,ME,611,24.44,-0.19,3.11,70,606,- 3148,98.36,1.31,0.33,0.0
2025-09-25,NT,2369,16.39,2.27,5.67,82,2210,100657,86.45,10.13,2.62,0.8
2025-09-25,SE,1533,19.68,2.1,6.81,142,1418,72368,88.13,8.74,2.22,0.91
2025-09-25,SJ,62,3.21,0.0,1.14,6,62,0,100.0,0.0,0.0,0.0
2025-09-25,SN,1461,18.45,1.72,5.83,114,1368,59325,89.11,8.56,1.78,0.55
2025-09-25,SR,2053,19.32,0.84,3.51,118,1986,40841,94.59,4.38,0.83,0.19
2025-09-25,SW,1486,20.06,1.39,4.96,122,1425,54045,91.25,6.46,1.82,0.47
2025-09-25,TL,513,36.41,2.26,5.61,93,483,39750,86.55,10.33,2.73,0.39
2025-09-25,TP,282,12.53,3.14,7.65,92,261,16229,82.98,11.7,3.9,1.42
2025-09-25,TW,152,19.84,2.55,15.17,170,147,3294,96.71,1.32,0.0,1.97
2025-09-25,VT,265,10.94,5.14,9.11,103,236,19139,74.72,16.23,6.79,2.26
2025-09-25,XC,220,17.76,4.53,8.24,102,197,18752,78.64,13.18,6.82,1.36
2025-09-25,XR,615,28.14,1.59,4.17,55,589,25232,88.78,9.27,1.63,0.33`;

        // Parse CSV data
        function parseCSV(csv) {
            const lines = csv.trim().split('\n');
            const headers = lines[0].split(',');
            const data = [];

            for (let i = 1; i < lines.length; i++) {
                const values = lines[i].split(',');
                const row = {};
                headers.forEach((header, index) => {
                    row[header] = values[index];
                });
                data.push(row);
            }

            return data;
        }

        const dataset = parseCSV(rawData);

        // Extract unique TOCs and sort them by name
        const tocs = [...new Set(dataset.map(row => row.toc))].sort((a, b) => {
            const nameA = tocNames[a] || a;
            const nameB = tocNames[b] || b;
            return nameA.localeCompare(nameB);
        });

        // Populate dropdown
        const tocSelect = document.getElementById('toc-select');
        tocs.forEach(toc => {
            const option = document.createElement('option');
            option.value = toc;
            option.textContent = tocNames[toc] || toc;
            tocSelect.appendChild(option);
        });

        // Aggregate data by date and optionally by TOC
        function aggregateData(selectedToc = 'all') {
            const dateMap = new Map();

            dataset.forEach(row => {
                if (selectedToc !== 'all' && row.toc !== selectedToc) {
                    return;
                }

                const date = row.date;
                const numServices = parseFloat(row.num_services) || 0;

                if (!dateMap.has(date)) {
                    dateMap.set(date, {
                        totalServices: 0,
                        weighted0_5: 0,
                        weighted5_15: 0,
                        weighted15_30: 0,
                        weighted30_plus: 0
                    });
                }

                const entry = dateMap.get(date);
                entry.totalServices += numServices;
                entry.weighted0_5 += numServices * (parseFloat(row.pct_0_5_mins) || 0);
                entry.weighted5_15 += numServices * (parseFloat(row.pct_5_15_mins) || 0);
                entry.weighted15_30 += numServices * (parseFloat(row.pct_15_30_mins) || 0);
                entry.weighted30_plus += numServices * (parseFloat(row.pct_30_plus_mins) || 0);
            });

            // Calculate weighted averages
            const dates = Array.from(dateMap.keys()).sort();
            const result = {
                dates: dates,
                pct_0_5: [],
                pct_5_15: [],
                pct_15_30: [],
                pct_30_plus: []
            };

            dates.forEach(date => {
                const entry = dateMap.get(date);
                if (entry.totalServices > 0) {
                    result.pct_0_5.push(entry.weighted0_5 / entry.totalServices);
                    result.pct_5_15.push(entry.weighted5_15 / entry.totalServices);
                    result.pct_15_30.push(entry.weighted15_30 / entry.totalServices);
                    result.pct_30_plus.push(entry.weighted30_plus / entry.totalServices);
                } else {
                    result.pct_0_5.push(0);
                    result.pct_5_15.push(0);
                    result.pct_15_30.push(0);
                    result.pct_30_plus.push(0);
                }
            });

            return result;
        }

        // Chart configuration
        const isDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        const chartConfig = {
            type: 'line',
            data: {
                labels: [],
                datasets: [
                    {
                        label: '0-5 mins',
                        data: [],
                        backgroundColor: 'rgba(52, 211, 153, 0.7)',
                        borderColor: 'rgba(52, 211, 153, 1)',
                        borderWidth: 1,
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: '5-15 mins',
                        data: [],
                        backgroundColor: 'rgba(251, 146, 60, 0.7)',
                        borderColor: 'rgba(251, 146, 60, 1)',
                        borderWidth: 1,
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: '15-30 mins',
                        data: [],
                        backgroundColor: 'rgba(248, 113, 113, 0.7)',
                        borderColor: 'rgba(248, 113, 113, 1)',
                        borderWidth: 1,
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: '30+ mins',
                        data: [],
                        backgroundColor: 'rgba(167, 139, 250, 0.7)',
                        borderColor: 'rgba(167, 139, 250, 1)',
                        borderWidth: 1,
                        fill: true,
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false
                },
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            color: isDarkMode ? '#e0e0e0' : '#333',
                            usePointStyle: true,
                            padding: 15
                        }
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.parsed.y.toFixed(1) + '%';
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        stacked: true,
                        grid: {
                            color: isDarkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
                        },
                        ticks: {
                            color: isDarkMode ? '#e0e0e0' : '#666',
                            maxRotation: 45,
                            minRotation: 45
                        }
                    },
                    y: {
                        stacked: true,
                        min: 0,
                        max: 100,
                        grid: {
                            color: isDarkMode ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)'
                        },
                        ticks: {
                            color: isDarkMode ? '#e0e0e0' : '#666',
                            callback: function(value) {
                                return value + '%';
                            }
                        },
                        title: {
                            display: true,
                            text: 'Percentage of Services (%)',
                            color: isDarkMode ? '#e0e0e0' : '#666'
                        }
                    }
                }
            }
        };

        // Initialize chart
        const ctx = document.getElementById('delayChart').getContext('2d');
        const chart = new Chart(ctx, chartConfig);

        // Update chart with initial data
        function updateChart(selectedToc = 'all') {
            const data = aggregateData(selectedToc);

            chart.data.labels = data.dates;
            chart.data.datasets[0].data = data.pct_0_5;
            chart.data.datasets[1].data = data.pct_5_15;
            chart.data.datasets[2].data = data.pct_15_30;
            chart.data.datasets[3].data = data.pct_30_plus;

            chart.update();
        }

        // Event listener for dropdown
        tocSelect.addEventListener('change', (e) => {
            updateChart(e.target.value);
        });

        // Load initial data
        updateChart('all');

        // Handle dark mode changes
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
            const isDark = e.matches;
            const textColor = isDark ? '#e0e0e0' : '#666';
            const gridColor = isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)';

            chart.options.plugins.legend.labels.color = textColor;
            chart.options.scales.x.grid.color = gridColor;
            chart.options.scales.x.ticks.color = textColor;
            chart.options.scales.y.grid.color = gridColor;
            chart.options.scales.y.ticks.color = textColor;
            chart.options.scales.y.title.color = textColor;

            chart.update();
        });
    </script>
</body>
</html>